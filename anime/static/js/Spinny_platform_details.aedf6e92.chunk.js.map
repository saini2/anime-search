{"version":3,"sources":["../node_modules/node-fetch/browser.js","Spinny/components/Platform/Anime/Anime.module.scss","Spinny/shared/SearchBar/SearchBar.module.scss","Spinny/shared/Button/Button.module.scss","Spinny/shared/ImageCard/ImageCard.module.scss","Spinny/utils/http/httpResponseInterceptor.js","Spinny/utils/http/httpRequestInterceptor.js","Spinny/utils/http/index.js","Spinny/components/Platform/Anime/actions.js","Spinny/shared/SearchBar/SearchBar.js","Spinny/shared/Button/Button.js","Spinny/shared/ImageCard/ImageCard.js","Spinny/components/Platform/Anime/Anime.js","Spinny/components/Platform/Anime/AnimeContainer.js"],"names":["global","self","window","Error","getGlobal","module","exports","fetch","default","bind","Headers","Request","Response","topHeader","second","topSearchBar","loadMore","requestParent","request","flag","time","initial","parentHead","parent","image","title","shadow","nothing","searchParent","goIcon","clear","fullWidth","hide","show","cursor","capitalize","whiteBG","blueBG","uppercase","row","col","BB","Bfull","BT","checkmark","checkmark_circle","checkmark_stem","checkmark_kick","btn","is-primary","is-secondary","is-transparent","is-smallRounded","is-type3","is-medium","is-large","is-small","is-active","is-disabled","button","border","checkResponse","response","status","console","log","error","statusText","checkRequest","url","options","httpFetch","opts","arguments","length","undefined","requestObj","Promise","resolve","reject","timeout","setTimeout","constants","REQUEST_TIME_OUT","navigator","onLine","params","then","r","clearTimeout","json","catch","e","toString","msg","NO_NETWORK","getListData","data","concat","query","pageNo","types","GET_LIST_DATA_LOADING","GET_LIST_DATA_SUCCESS","GET_LIST_DATA_FAILURE","promise","getListDataMore","GET_LIST_DATA_MORE_LOADING","SearchBar","goSearch","_this","props","onClick","handlerInput","onInput","target","value","handleEnterEvent","key","onKeyDown","_this$props","this","placeholder","id","name","react_default","a","createElement","className","s","type","onChange","React","PureComponent","Button","onClickHandler","isDisabled","btnText","btnType","opaqueFactor","disabled","opacity","defaultProps","classNamesStr","size","ImageCard","imgurl","style","src","alt","Anime","state","searchQuery","startTime","endTime","pageCount","totalPage","elementHeight","shadowClass","setState","_this$state","Date","getTime","loadMoreListData","_this$state2","currentPage","parseInt","element","document","getElementById","offsetHeight","renderSearchDataList","listData","loading","results","Fragment","map","item","index","href","ImageCard_ImageCard","image_url","Button_Button","_this2","getElementsByTagName","onscroll","scrollY","preProps","preState","request_cached","last_page","_this$state3","text","link","SearchBar_SearchBar","rel","Component","withRouter","connect","prevProps","animeReducer","dispatch","bindActionCreators"],"mappings":"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","file":"static/js/Spinny_platform_details.aedf6e92.chunk.js","sourcesContent":["\"use strict\"; // ref: https://github.com/tc39/proposal-global\n\nvar getGlobal = function getGlobal() {\n  // the only reliable means to get the global object is\n  // `Function('return this')()`\n  // However, this causes CSP violations in Chrome apps.\n  if (typeof self !== 'undefined') {\n    return self;\n  }\n\n  if (typeof window !== 'undefined') {\n    return window;\n  }\n\n  if (typeof global !== 'undefined') {\n    return global;\n  }\n\n  throw new Error('unable to locate global object');\n};\n\nvar global = getGlobal();\nmodule.exports = exports = global.fetch; // Needed for TypeScript and Webpack.\n\nexports.default = global.fetch.bind(global);\nexports.Headers = global.Headers;\nexports.Request = global.Request;\nexports.Response = global.Response;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"topHeader\":\"Anime_topHeader__128BG\",\"second\":\"Anime_second__NqBAQ\",\"topSearchBar\":\"Anime_topSearchBar__2Udxw\",\"loadMore\":\"Anime_loadMore__gHEn6\",\"requestParent\":\"Anime_requestParent__3kt9b\",\"request\":\"Anime_request__3uE0X\",\"flag\":\"Anime_flag__P9NFh\",\"time\":\"Anime_time__36hNh\",\"initial\":\"Anime_initial__TC9er\",\"parentHead\":\"Anime_parentHead__mTCqC\",\"parent\":\"Anime_parent__2-Mri\",\"image\":\"Anime_image__BtZoE\",\"title\":\"Anime_title__3qQYe\",\"shadow\":\"Anime_shadow__Yjc_9\",\"nothing\":\"Anime_nothing__1_TV5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchParent\":\"SearchBar_searchParent__1y4XH\",\"goIcon\":\"SearchBar_goIcon__20AqR\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"clear\":\"Button_clear__3C1T-\",\"fullWidth\":\"Button_fullWidth__2I08G\",\"hide\":\"Button_hide__2Exo_\",\"show\":\"Button_show__S_Nsx\",\"cursor\":\"Button_cursor__yrjQ6\",\"capitalize\":\"Button_capitalize__h7aV-\",\"whiteBG\":\"Button_whiteBG__GmMQh\",\"blueBG\":\"Button_blueBG__2tNhU\",\"uppercase\":\"Button_uppercase__1N4oF\",\"row\":\"Button_row__CNuS9\",\"col\":\"Button_col__3ZGiE\",\"BB\":\"Button_BB__1t0Jr\",\"Bfull\":\"Button_Bfull__2duha\",\"BT\":\"Button_BT__3qyhz\",\"checkmark\":\"Button_checkmark__eAGRU\",\"checkmark_circle\":\"Button_checkmark_circle__2qTM0\",\"checkmark_stem\":\"Button_checkmark_stem__2wYvs\",\"checkmark_kick\":\"Button_checkmark_kick__3uxEW\",\"btn\":\"Button_btn__3knBD\",\"is-primary\":\"Button_is-primary__RWIJo\",\"is-secondary\":\"Button_is-secondary__11BB4\",\"is-transparent\":\"Button_is-transparent__2tWaW\",\"is-smallRounded\":\"Button_is-smallRounded__RToa0\",\"is-type3\":\"Button_is-type3__hoIRV\",\"is-medium\":\"Button_is-medium__3O485\",\"is-large\":\"Button_is-large__3zqPN\",\"is-small\":\"Button_is-small__3tzE_\",\"is-active\":\"Button_is-active__1E4i-\",\"is-disabled\":\"Button_is-disabled__Izn5v\",\"button\":\"Button_button__RpVJL\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"border\":\"ImageCard_border__1swvq\",\"image\":\"ImageCard_image__21ols\",\"title\":\"ImageCard_title__3B9Ga\"};","const checkResponse = response => {\n  if (response.status >= 200 && response.status < 305) {\n    return response;\n  } else if (\n    response.status === 410 ||\n    response.status === 401 ||\n    response.status === 403\n  ) {\n    console.log(\"Unauthorized.\");\n  }\n  const error = new Error(response.statusText);\n  error.response = response;\n  throw error;\n};\n\nexport default checkResponse;\n","\nconst checkRequest = (url, options) => {\n  const modifiedUrl = url\n\n  return {\n    url: modifiedUrl,\n    // params: params\n  };\n};\n\nexport default checkRequest;\n","import fetch from \"node-fetch\";\nimport checkResponse from \"./httpResponseInterceptor\";\nimport checkRequest from \"./httpRequestInterceptor\";\nimport constants from \"../../constants/appconstants\";\n\nconst timer = 30000;\n\nexport const httpFetch = (url, opts = {}, handle500) => {\n  let requestObj = checkRequest(url, opts);\n  return new Promise(function(resolve, reject) {\n    const timeout = setTimeout(function() {\n      reject(new Error(constants.REQUEST_TIME_OUT));\n    }, timer);\n    // const requestTime = new Date();\n    let request = null;\n    if (!window.navigator.onLine) {\n      request = {\n        msg: constants.NO_NETWORK,\n        url: requestObj.url,\n        params: requestObj.params\n      };\n      reject(request);\n    } else {\n      fetch(requestObj.url, requestObj.params)\n        .then(response => {\n          return response;\n        })\n        .then(checkResponse)\n        .then(r => {\n          clearTimeout(timeout);\n          return resolve(r.json());\n        })\n        .catch(e => {\n          clearTimeout(timeout);\n          if (e.toString() === \"TypeError: Failed to fetch\") {\n            request = {\n              msg: constants.REQUEST_TIME_OUT,\n              url: requestObj.url,\n              params: requestObj.params\n            };\n            reject(request);\n          } else {\n            reject(e);\n          }\n        });\n    }\n  });\n};\n\nexport default httpFetch;\n","import {\n    GET_LIST_DATA_LOADING,\n    GET_LIST_DATA_SUCCESS,\n    GET_LIST_DATA_FAILURE,\n    GET_LIST_DATA_MORE_LOADING\n} from \"../../../constants/actionTypes\";\n/*\n    Fetch Wrapper used to hit API.\n  */\nimport httpFetch from \"../../../utils/http\";\n\nexport function getListData(data=null) {\n    let url = `https://api.jikan.moe/v3/search/anime?q=${data.query}&limit=16&page=${data.pageNo}`;\n    return {\n        types: [\n            GET_LIST_DATA_LOADING,\n            GET_LIST_DATA_SUCCESS,\n            GET_LIST_DATA_FAILURE\n        ],\n        promise: () =>\n            httpFetch(url)\n    };\n}\n\nexport function getListDataMore(data=null) {\n    let url = `https://api.jikan.moe/v3/search/anime?q=${data.query}&limit=16&page=${data.pageNo}`;\n    return {\n        types: [\n            GET_LIST_DATA_MORE_LOADING,\n            GET_LIST_DATA_SUCCESS,\n            GET_LIST_DATA_FAILURE\n        ],\n        promise: () =>\n            httpFetch(url)\n    };\n}\n","import React from 'react';\nimport s from './SearchBar.module.scss';\n\nexport default class SearchBar extends React.PureComponent {\n    goSearch = () => {\n        this.props.onClick(true);\n    }\n    handlerInput = (e) => {\n        this.props.onInput(e.target.value);\n    }\n    handleEnterEvent = (e) => {\n        if (e.key === 'Enter') {\n            this.props.onKeyDown(true);\n        }\n    }\n    render() {\n        const { placeholder, id, name, value, } = this.props;\n        return (\n            <div className={s.searchParent}>\n                <input\n                    placeholder={placeholder}\n                    id={id}\n                    name={name}\n                    type='text'\n                    value={value}\n                    onChange={this.handlerInput}\n                    onKeyDown={this.handleEnterEvent}\n                />\n                {<button className={s.goIcon} onClick={this.goSearch} id='search'>\n                    Go\n                </button>}\n            </div>\n        );\n    }\n}","import React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\nimport s from './Button.module.scss';\n\nexport default class Button extends PureComponent {\n\n  render() {\n    const {\n      onClickHandler,\n      isDisabled,\n      btnText,\n      btnType,\n      opaqueFactor,\n      id\n    } = this.props;\n    return (\n      <button\n        id = {id}\n        onClick={onClickHandler}\n        disabled={isDisabled}\n        className={s.button}\n        type={btnType}\n        opacity={opaqueFactor}\n      >\n        {btnText}\n      </button>\n    );\n  }\n}\n\nButton.propTypes = {\n  btnText: PropTypes.string.isRequired\n};\n\nButton.defaultProps = {\n  classNamesStr: '', // BY default, Button will have primary btn css\n  isDisabled: false,\n  type: 'primary',\n  size: 'large',\n  btnType: 'button'\n};\n","import React from 'react';\nimport style from './ImageCard.module.scss';\n\nexport default class ImageCard extends React.PureComponent{\n    render(){\n        const {imgurl,title} = this.props;\n        return(\n            <div className = {style.border}>\n                <div className = {style.image}>\n                <img src = {imgurl} alt = \"img\"></img>\n                </div>\n                <div className = {style.title}>\n                    {title}\n                </div>\n            </div>\n        );\n    }\n}","import React from 'react';\nimport style from './Anime.module.scss';\nimport SearchBar from '../../../shared/SearchBar/SearchBar'\nimport Button from '../../../shared/Button/Button';\nimport ImageCard from '../../../shared/ImageCard/ImageCard';\n\n\nexport default class Anime extends React.Component {\n    state = {\n        searchQuery: '',\n        loadMore: false,\n        flag: true,\n        time: '300ms',\n        startTime: null,\n        endTime: null,\n        pageCount: 1,\n        totalPage: '',\n        elementHeight: 2104,\n        shadowClass: ''\n    }\n    \n    componentDidMount() {\n        document.getElementsByTagName(\"body\")[0].onscroll = () => {\n            if (window.scrollY > 10) {\n                if (!this.state.shadowClass) {\n                    this.setState({ shadowClass: style.shadow });\n                }\n            } else {\n                this.setState({ shadowClass: false });\n            }\n        };\n    }\n\n    componentDidUpdate(preProps, preState) {\n        const { listData } = this.props;\n        if (preProps.listData.loading && !listData.loading && listData.data) {\n            this.setState({ endTime: new Date().getTime() })\n            this.setState({ flag: listData.data.request_cached, totalPage: listData.data.last_page })\n            if (listData.data.last_page > 16) {\n                this.setState({ loadMore: true });\n            }\n        }\n    }\n\n    handlerInput = value => {\n        this.setState({ searchQuery: value, pageCount: 1 });\n    };\n\n    goSearch = value => {\n        const { getListData } = this.props;\n        const { searchQuery, pageCount } = this.state;\n        let data = {\n            query: searchQuery,\n            pageNo: pageCount\n        };\n        if (value) {\n            this.setState({ startTime: new Date().getTime() });\n            getListData(data);\n        }\n    };\n\n    loadMoreListData = () => {\n        const { getListDataMore } = this.props;\n        const { pageCount, totalPage, searchQuery } = this.state;\n        let currentPage = parseInt(pageCount) + 1;\n        const element = document.getElementById('listView');\n        let data = {\n            query: searchQuery,\n            pageNo: currentPage\n        }\n        if (currentPage < (totalPage + 1)) {\n            this.setState({ pageCount: currentPage, elementHeight: element.offsetHeight });\n            getListDataMore(data);\n        } else {\n            this.setState({ loadMore: false })\n        }\n    }\n\n    renderSearchDataList = () => {\n        const { listData } = this.props;\n        if (!listData.loading && listData.data) {\n            let data = listData.data.results && listData.data.results;\n            if (data.length > 0) {\n                return (\n                    <>\n                        {<div className={style.parentHead} id='listView'>\n                            {data.map((item, index) => {\n                                return (\n                                    <a className={style.parent} key={`_parent${index}`} href={`${item.url}`} id={`${item.id}`}>\n                                        <ImageCard\n                                            imgurl={item.image_url}\n                                            title={item.title}\n                                        />\n                                    </a>\n                                );\n                            })}\n                        </div>}\n                        {this.state.loadMore && (<div className={style.loadMore} id='loadMore'>\n                            <Button\n                                btnText=\"Load More...\"\n                                onClickHandler={() => this.loadMoreListData()}\n                            ></Button>\n                        </div>)}\n                    </>\n                );\n            } else {\n                return (\n                    <div className={style.nothing}>\n                        <div>We're Sorry!</div>\n                        <div>{`We can't seem to find any anime that match your search for \"${this.state.searchQuery}\"`}</div>\n                    </div>\n                );\n            }\n        }\n    }\n    render() {\n        const { searchQuery, flag, startTime, endTime } = this.state;\n        let time = endTime - startTime > 0 ? endTime - startTime : '-';\n        const { listData } = this.props;\n        let text = 'API Request URL will appear here';\n        let link = '';\n        if (listData.loading) {\n            text = 'Fetch'\n        } else if (!listData.loading && listData.data) {\n            text = `https://api.jikan.moe/v3/search/anime?q=${this.state.searchQuery}&limit=16&page=${this.state.pageCount}`\n            link = text\n        }\n        return (\n            <main>\n                <section>\n                    <div className={style.topHeader}>\n                        <div className={style.second}>\n                            <div className={`${style.topSearchBar} ${this.state.shadowClass}`}>\n                                <SearchBar\n                                    placeholder=\"search for an anime, e.g Naruto\"\n                                    id=\"project\"\n                                    name=\"project\"\n                                    value={searchQuery}\n                                    onInput={this.handlerInput}\n                                    onClick={this.goSearch}\n                                    onKeyDown={this.goSearch}\n                                ></SearchBar>\n                            </div>\n                            <div className={style.requestParent}>\n                                <div className={style.request}>Requesting:- <a target=\"_blank\" rel=\"noopener noreferrer\" id=\"search_query_url\" href={link}>{text}</a></div>\n                                <div className={style.flag}>Request Cached:- <span>{`${flag}`}</span></div>\n                                <div className={style.time}>Time Taken:-  {time > 0 && <span>{time}ms</span>}</div>\n                            </div>\n                            {searchQuery.length === 0 && (\n                                <div className={style.initial}>\n                                    Input Text and Press Enter to Search...\n                                </div>\n                            )}\n                            {searchQuery.length > 0 && this.renderSearchDataList()}\n                        </div>\n                    </div>\n                </section>\n            </main>\n        );\n    }\n} ","import { connect } from \"react-redux\";\nimport { withRouter } from \"react-router-dom\";\nimport { bindActionCreators } from \"redux\";\nimport { getListData,getListDataMore} from \"./actions\";\nimport Anime from './Anime';\n\nconst mapStateToProps = (state, prevProps) => {\n  return {\n    listData: state.animeReducer.listData\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return bindActionCreators(\n    {\n        getListData,\n        getListDataMore\n    },\n    dispatch\n  );\n};\n\nexport default withRouter(\n  connect(mapStateToProps, mapDispatchToProps)(Anime)\n);\n"],"sourceRoot":""}